<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-02-21T11:41:48.934177"><title>Install Datalore On-Premises in Docker containers using Docker Compose | Datalore</title><script type="application/json" id="virtual-toc-data">[{"id":"prerequisites","level":0,"title":"Prerequisites","anchor":"#prerequisites"},{"id":"hardware-requirements","level":0,"title":"Hardware requirements","anchor":"#hardware-requirements"},{"id":"basic-datalore-installation_docker","level":0,"title":"Basic Datalore installation","anchor":"#basic-datalore-installation_docker"},{"id":"install-datalore","level":1,"title":"Install Datalore","anchor":"#install-datalore"},{"id":"optional-procedures","level":0,"title":"Optional procedures","anchor":"#optional-procedures"},{"id":"add-public-url","level":1,"title":"Add public URL","anchor":"#add-public-url"},{"id":"use-an-external-postgres-database","level":1,"title":"Use an external postgres database","anchor":"#use-an-external-postgres-database"},{"id":"enable-an-email-allowlist","level":1,"title":"Enable an email allowlist","anchor":"#enable-an-email-allowlist"},{"id":"enable-user-filtration-based-on-hub-group-membership","level":1,"title":"Enable user filtration based on Hub group membership","anchor":"#enable-user-filtration-based-on-hub-group-membership"},{"id":"configure-notebook-code-import-limit","level":1,"title":"Configure notebook code import limit","anchor":"#configure-notebook-code-import-limit"},{"id":"fargate-restrictions","level":0,"title":"Fargate restrictions","anchor":"#fargate-restrictions"},{"id":"further-steps","level":0,"title":"Further steps","anchor":"#further-steps"},{"id":"required-configuration-procedures","level":1,"title":"Required configuration procedures","anchor":"#required-configuration-procedures"},{"id":"optional-configuration-procedures","level":1,"title":"Optional configuration procedures","anchor":"#optional-configuration-procedures"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b575/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Install Datalore On-Premises in Docker containers using Docker Compose | Datalore"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Datalore Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/install-datalore-on-premises-using-docker.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Install Datalore On-Premises in Docker containers using Docker Compose | Datalore"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/install-datalore-on-premises-using-docker.html#webpage",
    "url": "writerside-documentation/install-datalore-on-premises-using-docker.html",
    "name": "Install Datalore On-Premises in Docker containers using Docker Compose | Datalore",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Datalore Help"
}</script><!-- End Schema.org --></head><body data-id="install-datalore-on-premises-using-docker" data-main-title="Install Datalore On-Premises in Docker containers using Docker Compose" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="datalore-on-premises.topic|Install Datalore On-Premises"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Datalore  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="install-datalore-on-premises-using-docker" id="install-datalore-on-premises-using-docker.topic">Install Datalore On-Premises in Docker containers using Docker Compose</h1><p id="-tg3vr_4">This page guides you through installing and configuring Datalore On-Premises in a Docker container with Docker Compose on the platform of your choice.</p><p id="-tg3vr_5">This is the recommended way to install Datalore unless you specifically need to use Kubernetes.</p><aside class="prompt" data-type="tip" data-title="" id="-tg3vr_6"><p id="-tg3vr_17">If you're still undecided about which platform or service to choose, we recommend installing Datalore On-Premises on an AWS EC2 instance.</p><p id="-tg3vr_18">To learn how to create deploy applications in AWS, see <a href="https://aws.amazon.com/getting-started/guides/deploy-webapp-ec2/" id="-tg3vr_19" data-external="true" rel="noopener noreferrer">Deploy a web app on EC2</a>.</p></aside><p id="-tg3vr_7">The installation process consists of two parts:</p><ul class="list _bullet" id="-tg3vr_8"><li class="list__item" id="-tg3vr_20"><p id="-tg3vr_22"><a href="#basic-datalore-installation_docker" id="-tg3vr_23" data-tooltip="When customizing the deployment, donâ€™t change the user for the datalore-server container, or the deployment might not work correctly.">Basic installation</a>: to get Datalore On-Premises up and running on the platform of your choice.</p></li><li class="list__item" id="-tg3vr_21"><p id="-tg3vr_24"><a href="https://www.jetbrains.com/help/datalore/configuration-procedures-docker.html" id="-tg3vr_25" data-external="true" rel="noopener noreferrer">Configuration procedures</a>: to customize the installation. Some of these configurations are necessary to begin using Datalore after installation.</p></li></ul><aside class="prompt" data-type="warning" data-title="" id="-tg3vr_16"><p id="-tg3vr_140"><b id="-tg3vr_142">Datalore only supports 64-bit Linux as a host system.</b></p><p id="-tg3vr_141">ARM-based platforms, macOS, and Windows are not supported.</p></aside><dl id="-tg3vr_10" data-style="title-top"><dt id="prerequisites" data-expandable="false">Prerequisites</dt><dd><p id="-tg3vr_28">Before installation, make sure that you have the following:</p><ul class="list _bullet" id="-tg3vr_29"><li class="list__item" id="-tg3vr_31"><p>Docker</p></li><li class="list__item" id="-tg3vr_32"><p id="-tg3vr_33">Docker Compose v2</p><aside class="prompt" data-type="tip" data-title="" id="-tg3vr_34"><p id="-tg3vr_35">To check the Docker Compose version, run the following command:</p><div class="code-block" data-lang="bash">
              docker compose version
            </div></aside></li></ul><aside class="prompt" data-type="note" data-title="" id="-tg3vr_30"><p>If you're using a reverse proxy, we recommend that you enable Gzip compression by following <a href="https://nginx.org/en/docs/http/ngx_http_gzip_module.html" id="-tg3vr_37" data-external="true" rel="noopener noreferrer">these instructions</a>.</p></aside></dd><dt id="hardware-requirements" data-expandable="false">Hardware requirements</dt><dd><p id="-tg3vr_38">Datalore On-Premises requires resources for running both the server, database, and computations. When choosing the amount of resources, take into account your projected computations and the number of agents working in parallel.</p><ul class="list _bullet" id="-tg3vr_39"><li class="list__item" id="-tg3vr_40"><p>Datalore server machine: 4GB of RAM (the number of CPU is irrelevant if the load is not high)</p></li><li class="list__item" id="-tg3vr_41"><p>For every concurrently run notebook: from 4GB of RAM</p></li><li class="list__item" id="-tg3vr_42"><p id="-tg3vr_43">PostgreSQL <b id="-tg3vr_45">15</b> database:</p><ul class="list _bullet" id="-tg3vr_44"><li class="list__item" id="-tg3vr_46"><p>CPU: minimum 1 core; 2 or more cores recommended</p></li><li class="list__item" id="-tg3vr_47"><p>RAM: minimum 4 GB; 8 GB recommended</p></li><li class="list__item" id="-tg3vr_48"><p>Available memory: minimum 4 GB minimum, 6GB or more recommended</p></li></ul></li></ul></dd></dl><section class="chapter"><h2 id="basic-datalore-installation_docker" data-toc="basic-datalore-installation_docker">Basic Datalore installation</h2><aside class="prompt" data-type="warning" data-title="" id="-tg3vr_49"><p id="-tg3vr_51">When customizing the deployment, don&rsquo;t change the user for the datalore-server container, or the deployment might not work correctly.</p></aside><section class="procedure-steps"><h3 id="install-datalore" data-toc="install-datalore">Install Datalore</h3><ol class="list _decimal"><li class="list__item" id="-tg3vr_52"><p>Download and open the <span class="filepath" id="-tg3vr_57">docker-compose.yaml</span> file from the <a href="https://github.com/JetBrains/datalore-configs/tree/2025.1/docker-compose" id="-tg3vr_58" data-external="true" rel="noopener noreferrer">datalore-configs repository</a>.</p></li><li class="list__item" id="-tg3vr_53"><p>Set the same random string for both <code class="code" id="-tg3vr_59">DB_PASSWORD</code> and <code class="code" id="-tg3vr_60">POSTGRES_PASSWORD</code> properties. This string will serve as your database password, so keep it secret.</p></li><li class="list__item" id="-tg3vr_54"><p id="-tg3vr_61">Run the following command and wait for Datalore to start up:</p><div class="code-block" data-lang="bash">
          docker compose up
        </div></li><li class="list__item" id="-tg3vr_55"><p id="-tg3vr_63">Go to <span class="filepath" id="-tg3vr_65">http://127.0.0.1:8080/</span> and register the first user. This user automatically receives the Super Admin role.</p><aside class="prompt" data-type="tip" data-title="" id="-tg3vr_64"><p>Unless the email service is configured, Datalore On-Premises sends no registration confirmation. You can log in right after you register.</p></aside></li><li class="list__item" id="-tg3vr_56"><p id="-tg3vr_66">Add your licence. To do that, click your avatar in the upper right corner, select <span class="menupath" id="-tg3vr_68">Admin panel | License</span>, and enter your license key.</p><figure id="-tg3vr_67"><img alt="Opening Admin panel" src="images/admin_panel.png" title="Opening Admin panel" data-dark-src="images/admin_panel_dark.png" width="296" height="370"></figure></li></ol></section></section><section class="chapter"><h2 id="optional-procedures" data-toc="optional-procedures">Optional procedures</h2><section class="procedure-steps"><h3 id="add-public-url" data-toc="add-public-url">Add public URL</h3><ol class="list _decimal"><li class="list__item" id="-tg3vr_74"><p id="-tg3vr_75">To access Datalore using an address other than <span class="filepath" id="-tg3vr_79">127.0.0.1</span>, add a URL without a trailing slash as the <code class="code" id="-tg3vr_80">DATALORE_PUBLIC_URL</code> parameter in the <span class="filepath" id="-tg3vr_81">datalore.values.yaml</span> file.</p><p id="-tg3vr_76">For example, if you want to use <span class="filepath" id="-tg3vr_82">https://datalore.yourcompany.com</span>, add the following block:</p><div class="code-block" data-lang="yaml">
          dataloreEnv:
            ...
            # Make sure the URL doesn't have a trailing slash
            DATALORE_PUBLIC_URL: &quot;https://datalore.yourcompany.com&quot;
        </div><aside class="prompt" data-type="note" data-title="" id="-tg3vr_78"><p>You need to configure your DNS yourself.</p></aside></li></ol></section><section class="procedure-steps"><h3 id="use-an-external-postgres-database" data-toc="use-an-external-postgres-database">Use an external postgres database</h3><ol class="list _decimal"><li class="list__item" id="-tg3vr_83"><p id="-tg3vr_86">In the <span class="filepath" id="-tg3vr_89">docker-compose.yaml</span> file, add the following variables under <code class="code" id="-tg3vr_90">environment</code>:</p><div class="code-block" data-lang="yaml">
            environment:
              ...
              DB_USER: &quot;&lt;database_user&gt;&quot;
              DB_URL: &quot;jdbc:postgresql://[database_host]:[database_port]/[database_name]
        </div><aside class="prompt" data-type="tip" data-title="" id="-tg3vr_88"><p>Make sure the <code class="code" id="-tg3vr_91">DB_PASSWORD</code> parameter contains the password for the specified database.</p></aside></li><li class="list__item" id="-tg3vr_84"><p id="-tg3vr_92">In the same file, remove the following block:</p><div class="code-block" data-lang="yaml">
          postgresql:
            image: jetbrains/datalore-postgres:2024.4
            expose: [ &quot;5432&quot; ]
            networks:
              - datalore-backend-network
            volumes:
              - &quot;postgresql-data:/var/lib/postgresql/data&quot;
            environment:
              POSTGRES_PASSWORD: &quot;changeme&quot;
        </div></li><li class="list__item" id="-tg3vr_85"><p>Remove <code class="code" id="-tg3vr_94">postgresql-data: { }</code> from under <code class="code" id="-tg3vr_95">volumes:</code>.</p></li></ol></section><section class="procedure-steps"><h3 id="enable-an-email-allowlist" data-toc="enable-an-email-allowlist">Enable an email allowlist</h3><p id="-tg3vr_96">Enable an allowlist for new user registration. Only users with email addresses included in the allowlist can register.</p><ol class="list _decimal"><li class="list__item" id="-tg3vr_97"><p id="-tg3vr_99">In the <span class="filepath" id="-tg3vr_101">docker-compose.yaml</span> file, add the following parameter:</p><div class="code-block" data-lang="yaml">
        environment:
          EMAIL_ALLOWLIST_ENABLED: &quot;true&quot;
        </div></li></ol><p id="-tg3vr_98">The <span class="menupath" id="-tg3vr_102">Email allowlist</span> tab will be available on the <a href="https://www.jetbrains.com/help/datalore/manage-email-allowlist.html" id="-tg3vr_103" data-external="true" rel="noopener noreferrer">Admin panel</a>.</p></section><section class="procedure-steps"><h3 id="enable-user-filtration-based-on-hub-group-membership" data-toc="enable-user-filtration-based-on-hub-group-membership">Enable user filtration based on Hub group membership</h3><p id="-tg3vr_104">By default, all Hub users can register unless you disable registration on the <a href="https://www.jetbrains.com/help/datalore/manage-users.html" id="-tg3vr_106" data-external="true" rel="noopener noreferrer">Admin panel</a>. To grant Datalore access only to a specific Hub group members:</p><ul class="list _bullet"><li class="list__item" id="-tg3vr_105"><p id="-tg3vr_107">In the <span class="filepath" id="-tg3vr_109">docker-compose.yaml</span> file, add the following parameter:</p><div class="code-block" data-lang="yaml">
        environment:
          HUB_ALLOWLIST_GROUP: 'group_name'
        </div></li></ul></section><section class="procedure-steps"><h3 id="configure-notebook-code-import-limit" data-toc="configure-notebook-code-import-limit">Configure notebook code import limit</h3><p id="-tg3vr_110">You can configure the limit of notebook code import by setting your own value in bytes. To do that:</p><ol class="list _decimal"><li class="list__item" id="-tg3vr_111"><p id="-tg3vr_112">In the <span class="filepath" id="-tg3vr_114">docker-compose.yaml</span> file, add the following parameter:</p><div class="code-block" data-lang="yaml">
        environment:
          VFS_MAX_IMPORT_SOURCE_LENGTH: 'integer, prefixes (K-, M-, etc.) not supported'
        </div></li></ol></section></section><section class="chapter"><h2 id="fargate-restrictions" data-toc="fargate-restrictions">Fargate restrictions</h2><p id="-tg3vr_115">AWS Fargate is a serverless compute engine for containers. Datalore On-Premises can run in Fargate, be you need to be aware of the following restrictions:</p><ul class="list _bullet" id="-tg3vr_116"><li class="list__item" id="-tg3vr_117"><p>Attached files and <a href="https://www.jetbrains.com/help/datalore/use-reactive-mode.html" id="-tg3vr_118" data-external="true" rel="noopener noreferrer">Reactive mode</a> do not work due to Fargate's security policies.</p></li></ul></section><section class="chapter"><h2 id="further-steps" data-toc="further-steps">Further steps</h2><p id="-tg3vr_119">Once you have your Datalore installation up and running, you need to configure it for your workload and needs.</p><section class="procedure-steps"><h3 id="required-configuration-procedures" data-toc="required-configuration-procedures">Required configuration procedures</h3><ol class="list _decimal"><li class="list__item" id="-tg3vr_122"><p><a href="https://www.jetbrains.com/help/datalore/configure-docker-agents.html" id="-tg3vr_126" data-external="true" rel="noopener noreferrer">Configure agents</a>: customize how your agents work to manage your computational resources.</p></li><li class="list__item" id="-tg3vr_123"><p><a href="https://www.jetbrains.com/help/datalore/set-up-gpu-machines.html" id="-tg3vr_127" data-external="true" rel="noopener noreferrer">Set up GPU machines</a>: enable GPU machines in your installation.</p></li><li class="list__item" id="-tg3vr_124"><p><a href="manage-users.html" id="-tg3vr_128" data-tooltip="As an administrator, you can use the Admin panel to manage users.">Create users</a>: create and manage users and viewers.</p></li><li class="list__item" id="-tg3vr_125"><p><a href="https://www.jetbrains.com/help/datalore/configure-plans-docker.html" id="-tg3vr_129" data-external="true" rel="noopener noreferrer">Configure plans</a>: customize resource usage among your Datalore users.</p></li></ol></section><section class="procedure-steps"><h3 id="optional-configuration-procedures" data-toc="optional-configuration-procedures">Optional configuration procedures</h3><ul class="list _bullet"><li class="list__item" id="-tg3vr_130"><p><a href="https://www.jetbrains.com/help/datalore/customize-or-update-environment.html" id="-tg3vr_135" data-external="true" rel="noopener noreferrer">Customize or update environment</a>: create multiple base environments out of custom Docker images.</p></li><li class="list__item" id="-tg3vr_131"><p><a href="https://www.jetbrains.com/help/datalore/use-hub-for-docker-installation.html" id="-tg3vr_136" data-external="true" rel="noopener noreferrer">Set up JetBrains Hub</a>: integrate an authentication service.</p></li><li class="list__item" id="-tg3vr_132"><p><a href="https://www.jetbrains.com/help/datalore/enable-gift-codes-docker.html" id="-tg3vr_137" data-external="true" rel="noopener noreferrer">Enable gift codes</a>: enable a service generating and distributing gift codes.</p></li><li class="list__item" id="-tg3vr_133"><p><a href="https://www.jetbrains.com/help/datalore/enable-email-service-docker.html" id="-tg3vr_138" data-external="true" rel="noopener noreferrer">Enable email service</a>: activate email notifications.</p></li><li class="list__item" id="-tg3vr_134"><p><a href="https://www.jetbrains.com/help/datalore/enable-user-activity-logging-docker-installation.html" id="-tg3vr_139" data-external="true" rel="noopener noreferrer">Enable user activity logging</a>: set up auditing your Datalore users.</p></li></ul></section></section><div class="last-modified">Last modified: 21 February 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="install-datalore-on-premises-using-kubernetes-helm.html" class="navigation-links__prev">Install Datalore On-Premises on a Kubernetes cluster with Helm charts</a><a href="manage-users.html" class="navigation-links__next">Manage users</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b575/app.js"></script></body></html>